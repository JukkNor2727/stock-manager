<!doctype html><html lang="th"><meta charset="utf-8">
<title>Debug Test</title>
<h1>หน้าทดสอบโหลด</h1>
<button id="run">ทดสอบเรียก API (list)</button>
<pre id="out" style="white-space:pre-wrap;background:#f6f6f8;padding:12px;border-radius:8px"></pre>
<script>
const API_URL="https://script.google.com/macros/s/AKfycbwvjq63SL_RazdkGrKHLmc4KGbgwtXwxIAdRu6IichY-yel9pku56XJqUl0GN4f2Kk/exec";
document.getElementById('run').onclick=async()=>{
  const url=API_URL+"?action=list";
  document.getElementById('out').textContent="GET "+url;
  try{
    const res=await fetch(url,{method:"GET",mode:"cors",cache:"no-store"});
    const data=await res.json();
    document.getElementById('out').textContent+="\n\n"+JSON.stringify(data,null,2);
    alert("ok="+data.ok+" items="+(data.items?.length ?? "n/a"));
  }catch(e){
    document.getElementById('out').textContent+="\n\nERROR: "+e.message;
    alert("ERROR: "+e.message);
  }
};
</script>
</html>
